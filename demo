//Sample Code (For Creating a Demo Amazon Image Skill) With Using Skills-Kit

const { FilesReader, SkillsWriter  } = require('skills-kit-2.0');

const filesReader = FilesReader(event.body);
const skillsWriter = SkillsWriter(filesReader.getFileContext());

Axios.get(filesReader.getFileContext().fileDownloadURL, { responseType: 'arraybuffer' }).then((response) => {
    const somParam = {}; // ML specific configurations
    MLProvider.call( someParams, (err, data)=> {
    if (err) {
        console.log('ERROR on ML call');
        skillsWriter.saveErrorCard()
    } else {
        if (data.length > 0) {
            var entries = [];
            for (let i = 0; i < data.length; i++) {
                entries.push({
                    type: 'text',
                    text: data.Labels[i].Name
                    });
                }
            }

            // Create metadata cards to show in Box preview next to file.
            const keywordCards = skillsWriter.createTopicsCard(entries);
            if (keywordCards.length > 0) {
                skillsWriter.saveDataCards(keywordCards, (error) =>
                    console.error(` Error occured writing back to box ${JSON.stringify(error)});
                );
            }
        }
    });
    });
